{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "Mobile-first web app “Ramadhan Tracker” for personal worship tracking during Ramadhan, with admin-created accounts (no self-signup), user dashboard, daily tracking modules (puasa, tilawah, murojaah, tahfidz, sedekah subuh, and sholat), rotating Islamic content slides managed by admin, downloadable progress reports (PDF/CSV), full admin panel for user/content management and statistics, and UI language updated to Bahasa Indonesia.",
  "architectural_notes": [
    "No public self-registration; all user accounts provisioned by admin.",
    "Role-based access control (Admin vs User) with users restricted to their own data.",
    "Store tracking data per user per date to support dashboard summaries, filtering, and reporting.",
    "Separate API surfaces/permissions for admin operations vs user operations.",
    "Default/configured Sedekah Subuh donation button should open: https://tribelio.page/site/donation/9U7UPN3Y (still admin-configurable).",
    "Daily motivation slide content types include: tadabbur (Quran reflection), hadits, and Islamic quotes.",
    "Bahasa aplikasi diubah menjadi Bahasa Indonesia (UI copy/label/empty state/error message)."
  ],
  "known_issues": [
    "Daily motivation slides/carousel (Tadabbur, Hadith, Islamic Quote) feature is not appearing in the live app/UI despite being added.",
    "Fitur save progress (penyimpanan progres/rekaman tracking harian) tidak berjalan.",
    "Progres harian tidak tersimpan setelah user keluar/menutup web app; user harus menandai ulang dari awal.",
    "User cannot access /admin on production URL (https://ramadhan-tracker-agt.caffeine.xyz/admin); admin role/permissions for the user account may not be set or recognized.",
    "Admin access still not granted after Version 7 deployment; user still cannot access /admin on production (role assignment/bootstrap may still be failing)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-authentication-with-admin-created-user-accounts-only-no-public-self-registration-including-roles-admin-user-secure-session-management-and-route-page-access-control-so-users-can-only-access-their-own-dashboard-and-data",
      "title": "Implement authentication with admin-created user accounts only (no public self-registration), including roles (Admin, User), secure session management, and route/page access control so users can only access their own dashboard and data.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-an-admin-panel-with-user-management-capabilities-create-user-accounts-edit-user-details-deactivate-reactivate-accounts-and-reset-user-passwords",
      "title": "Build an Admin Panel with user management capabilities: create user accounts, edit user details, deactivate/reactivate accounts, and reset user passwords.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-user-dashboard-home-as-a-single-mobile-first-screen-that-shows-today-s-overview-fasting-status-tilawah-summary-surah-verse-range-murojaah-summary-surah-verse-range-tahfidz-summary-surah-verse-range-charity-at-dawn-sedekah-subuh-status-and-a-visual-daily-progress-bar",
      "title": "Implement the User Dashboard (Home) as a single mobile-first screen that shows today’s overview: fasting status, tilawah summary (surah + verse range), murojaah summary (surah + verse range), tahfidz summary (surah + verse range), charity-at-dawn (Sedekah Subuh) status, and a visual daily progress bar.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-per-user-per-date-storage-and-retrieval-of-all-tracking-data-fasting-tilawah-murojaah-tahfidz-sedekah-with-the-ability-to-filter-view-by-date",
      "title": "Implement per-user, per-date storage and retrieval of all tracking data (fasting, tilawah, murojaah, tahfidz, sedekah) with the ability to filter/view by date.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-create-the-fasting-tracking-module-a-simple-toggle-for-fasting-today-yes-no-plus-an-optional-note-saved-for-the-selected-date",
      "title": "Create the Fasting tracking module: a simple toggle for ‘Fasting today’ (Yes/No) plus an optional note, saved for the selected date.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-the-tilawah-tracking-module-input-surah-name-and-verse-range-from-to-saved-for-the-selected-date",
      "title": "Create the Tilawah tracking module: input surah name and verse range (from–to), saved for the selected date.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-create-the-murojaah-tracking-module-input-surah-name-and-verse-range-from-to-saved-for-the-selected-date",
      "title": "Create the Murojaah tracking module: input surah name and verse range (from–to), saved for the selected date.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-create-the-tahfidz-tracking-module-input-surah-name-and-verse-range-from-to-saved-for-the-selected-date",
      "title": "Create the Tahfidz tracking module: input surah name and verse range (from–to), saved for the selected date.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-create-the-sedekah-subuh-tracking-module-a-one-click-donate-now-button-that-marks-today-selected-date-as-completed-and-opens-an-admin-configurable-placeholder-payment-link",
      "title": "Create the Sedekah Subuh tracking module: a one-click ‘Donate now’ button that marks today/selected date as completed, and opens an admin-configurable placeholder payment link.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-auto-rotating-daily-content-slide-section-on-the-dashboard-with-three-content-types-quran-reflection-verse-selected-hadith-and-short-islamic-motivation-slides-rotate-automatically-every-few-seconds-and-admin-can-create-update-these-slide-items",
      "title": "Add an auto-rotating daily content slide section on the dashboard with three content types: Quran reflection verse, selected hadith, and short Islamic motivation; slides rotate automatically every few seconds, and Admin can create/update these slide items.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-progress-report-download-for-the-logged-in-user-as-a-csv-file-containing-day-by-day-recap-across-the-date-range-the-user-selects-at-minimum-fasting-status-tilawah-murojaah-tahfidz-sedekah",
      "title": "Implement progress report download for the logged-in user as a CSV file containing day-by-day recap across the date range the user selects (at minimum: fasting status, tilawah, murojaah, tahfidz, sedekah).",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-admin-participation-statistics-a-simple-overview-showing-overall-user-participation-completion-rates-for-key-daily-items-over-a-selectable-date-range-aggregated-across-users",
      "title": "Provide Admin participation statistics: a simple overview showing overall user participation/completion rates for key daily items over a selectable date range (aggregated across users).",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-cohesive-mobile-first-islamic-minimal-visual-theme-not-blue-purple-by-default-with-fast-one-click-interactions-and-add-an-optional-dark-mode-toggle-that-persists-per-device",
      "title": "Implement a cohesive, mobile-first ‘Islamic minimal’ visual theme (not blue/purple by default) with fast one-click interactions, and add an optional dark mode toggle that persists per device.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-sedekah-subuh-donate-now-button-so-it-opens-the-donation-url-https-tribelio-page-site-donation-9u7upn3y-and-remove-any-hardcoded-placeholder-donation-link-so-the-opened-link-is-always-sourced-from-an-app-setting-admin-configurable-with-this-url-as-the-default-value",
      "title": "Update the Sedekah Subuh ‘Donate Now’ button so it opens the donation URL https://tribelio.page/site/donation/9U7UPN3Y, and remove any hardcoded placeholder donation link so the opened link is always sourced from an app setting (admin-configurable) with this URL as the default value.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-dashboard-daily-content-carousel-includes-and-clearly-labels-three-slide-types-as-tadabbur-quran-reflection-hadith-and-islamic-quote-daily-motivation-and-ensure-admin-content-management-fields-map-to-these-three-slide-types",
      "title": "Ensure the dashboard daily content carousel includes and clearly labels three slide types as: ‘Tadabbur’ (Quran reflection), ‘Hadith’, and ‘Islamic Quote’ (daily motivation), and ensure Admin content management fields map to these three slide types.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-dashboard-daily-content-carousel-render-a-visible-empty-state-when-no-daily-content-exists-instead-of-rendering-nothing",
      "title": "Make the Dashboard daily content carousel render a visible empty state when no daily content exists, instead of rendering nothing.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-diagnostics-for-the-daily-content-query-failure-path-so-the-ui-does-not-silently-hide-the-daily-content-section-when-the-fetch-fails-e-g-show-a-small-error-state-message-in-english",
      "title": "Add basic diagnostics for the daily content query failure path so the UI does not silently hide the daily content section when the fetch fails (e.g., show a small error state message in English).",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-ui-language-to-bahasa-indonesia-for-all-user-facing-strings-across-the-dashboard-tracking-modules-admin-pages-and-reports-including-button-labels-form-labels-empty-error-states-toasts-and-tile-progress-text",
      "title": "Update the frontend UI language to Bahasa Indonesia for all user-facing strings across the dashboard, tracking modules, admin pages, and reports (including button labels, form labels, empty/error states, toasts, and tile/progress text).",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-daily-tracking-save-progress-functionality-so-that-saving-any-module-fasting-tilawah-murojaah-tahfidz-sedekah-reliably-persists-to-the-backend-for-the-selected-date-and-does-not-throw-runtime-errors-when-no-existing-task-exists-yet-for-that-date",
      "title": "Fix the daily tracking 'save progress' functionality so that saving any module (fasting/tilawah/murojaah/tahfidz/sedekah) reliably persists to the backend for the selected date and does not throw runtime errors when no existing Task exists yet for that date.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-sholat-prayer-tracking-stored-per-user-per-date-covering-the-5-daily-prayers-fajr-subuh-dhuhr-zuhur-asr-ashar-maghrib-isha-isya-plus-optional-prayers-dhuha-tarawih-qiyamul-lail",
      "title": "Implement sholat (prayer) tracking stored per-user per-date, covering: the 5 daily prayers (Fajr/Subuh, Dhuhr/Zuhur, Asr/Ashar, Maghrib, Isha/Isya) plus optional prayers (Dhuha, Tarawih, Qiyamul Lail).",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-update-progress-reporting-to-correctly-download-a-csv-using-actual-backend-data-remove-placeholder-fetch-to-api-tasks-in-range-and-include-the-new-sholat-fields-as-additional-columns",
      "title": "Update progress reporting to correctly download a CSV using actual backend data (remove placeholder fetch to '/api/tasks-in-range') and include the new sholat fields as additional columns.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-authenticated-dashboard-page-that-shows-the-logged-in-user-s-progress-for-a-selected-month-as-a-graph-using-existing-per-day-task-data",
      "title": "Add a new authenticated dashboard page that shows the logged-in user’s progress for a selected month as a graph, using existing per-day task data.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-add-navigation-to-the-new-monthly-progress-page-from-the-authenticated-app-shell-e-g-add-a-menu-item-in-the-user-dropdown-in-the-header",
      "title": "Add navigation to the new monthly progress page from the authenticated app shell (e.g., add a menu item in the user dropdown in the header).",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-new-ui-strings-added-for-the-monthly-progress-feature-follow-the-app-s-existing-localization-convention-the-app-currently-uses-bahasa-indonesia-and-add-appropriate-loading-and-error-states-for-the-monthly-data-query",
      "title": "Ensure all new UI strings added for the monthly progress feature follow the app’s existing localization convention (the app currently uses Bahasa Indonesia), and add appropriate loading and error states for the monthly data query.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-daily-tracking-persistence-so-that-after-a-user-records-any-daily-progress-sholat-fasting-tilawah-murojaah-tahfidz-sedekah-and-then-closes-exits-the-web-app-tab-close-refresh-reopen-the-previously-saved-values-are-reliably-loaded-from-the-backend-for-the-same-selected-date-no-need-to-re-mark-from-scratch",
      "title": "Fix daily tracking persistence so that after a user records any daily progress (sholat, fasting, tilawah, murojaah, tahfidz, sedekah) and then closes/exits the web app (tab close, refresh, reopen), the previously saved values are reliably loaded from the backend for the same selected date (no need to re-mark from scratch).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-monthly-progress-bar-visualization-with-a-line-chart-svg-based-so-the-monthly-progress-page-shows-a-line-only-chart-for-daily-percentage-progress-instead-of-vertical-bars",
      "title": "Replace the monthly progress “bar” visualization with a line chart (SVG-based) so the monthly progress page shows a line-only chart for daily percentage progress instead of vertical bars.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-update-any-affected-loading-error-empty-ui-states-introduced-or-modified-by-these-changes-to-use-english-user-facing-text-in-the-modified-components-pages",
      "title": "Update any affected loading/error/empty UI states introduced or modified by these changes to use English user-facing text in the modified components/pages.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-frontend-admin-access-denied-experience-so-non-admin-users-understand-why-they-cannot-access-the-admin-panel-and-what-to-do-next-using-english-user-facing-text",
      "title": "Improve the frontend /admin access-denied experience so non-admin users understand why they cannot access the Admin Panel and what to do next, using English user-facing text.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-frontend-admin-guard-logic-does-not-incorrectly-redirect-while-the-admin-role-check-is-still-loading-to-avoid-false-denials-for-real-admins-use-english-user-facing-text-for-any-new-loading-error-ui-introduced",
      "title": "Ensure the frontend admin-guard logic does not incorrectly redirect while the admin-role check is still loading, to avoid false denials for real admins (use English user-facing text for any new loading/error UI introduced).",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-access-denied-screen-to-include-an-english-bootstrap-admin-access-action-that-is-shown-only-when-the-backend-reports-bootstrap-mode-and-when-clicked-attempts-to-call-promotetoadmin-for-the-currently-logged-in-principal",
      "title": "Update the Admin access-denied screen to include an English \"Bootstrap Admin Access\" action that is shown only when the backend reports bootstrap mode, and when clicked attempts to call `promoteToAdmin` for the currently logged-in principal.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-admin-gate-error-handling-so-that-if-role-admin-checks-fail-e-g-backend-trap-network-error-the-page-shows-a-clear-english-error-state-and-a-retry-action-rather-than-only-generic-messaging",
      "title": "Improve the /admin gate error handling so that if role/admin checks fail (e.g., backend trap/network error), the page shows a clear English error state and a retry action rather than only generic messaging.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Authentication & role-based user management: admin-created accounts only, secure sessions, admin can create/edit/deactivate users; users access only their own data",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "User dashboard (home) with daily overview: puasa status, tilawah/murojaah/tahfidz summaries, sedekah subuh status, daily progress bar",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Daily tracking module: Puasa (toggle yes/no + optional note) saved per date",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Daily tracking module: Tilawah (surah name, ayat from–to) auto-saved per date",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Daily tracking module: Murojaah (surah name, ayat from–to) saved per date",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Daily tracking module: Tahfidz (surah name, ayat from–to) saved per date",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Daily tracking module: Sedekah Subuh (one-click “Sedekah Sekarang” to mark today) with admin-configurable payment link placeholder",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Auto-rotating daily content slides on dashboard (ayat tadabbur, hadits, motivasi); admin can update content",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Download progress report per user (PDF or CSV) including daily recap of puasa, tilawah, murojaah, tahfidz, sedekah subuh",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Admin panel: create users, reset passwords, view overall participation statistics, manage slide content, manage sedekah link",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "UI/UX: mobile-first clean Islamic minimal style, fast one-click logging, optional dark mode, date filtering, optional Ramadhan calendar view",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Backend/data: per-user storage of all tracking data by date, clear DB structure, separate admin vs user APIs, production-ready MVP architecture",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Ensure clear separation between admin and user backend APIs and enforce authorization checks server-side for every admin-only operation and every per-user data operation.",
      "reqIds": [
        "REQ-14"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Ensure the backend provides at least one DailyContent record so the Tadabbur/Hadith/Islamic Quote carousel has content by default on existing deployments (e.g., seed a default entry during upgrade if none exists).",
      "reqIds": [
        "REQ-18"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Tambahkan tracking sholat: sholat 5 waktu, Dhuha, Tarawih, dan Qiyamul Lail (tersimpan per user per tanggal dan tampil di dashboard/laporan).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Tambahkan dashboard/halaman yang menampilkan progress pengguna dalam 1 bulan dengan visualisasi grafik (monthly progress chart).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Ubah visualisasi di dashboard statistik/progress: jangan pakai bar chart (balok), gunakan line chart (chart garis) saja.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Add a secure backend mechanism to grant the Admin role to a specified Principal so the user can access /admin on production (https://ramadhan-tracker-agt.caffeine.xyz/admin). This must include a safe bootstrap path for deployments where no Admin exists yet (to prevent permanent lockout).",
      "reqIds": [
        "REQ-30"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Fix the backend admin-bootstrap detection so `promoteToAdmin` correctly determines whether any Admin already exists, even when there are no `userTasks` entries yet (preventing permanent lockout where no one can become Admin).",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Add a backend query API that allows the frontend to safely determine whether the canister is in \"bootstrap mode\" (i.e., no Admin exists yet), so the UI can offer a first-admin recovery action only when appropriate.",
      "reqIds": [
        "REQ-34"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Ramadhan Tracker",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}